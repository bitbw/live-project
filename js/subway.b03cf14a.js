(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subway"],{"4c53":function(t,e,a){"use strict";var n=a("23e7"),r=a("857a"),i=a("af03");n({target:"String",proto:!0,forced:i("sub")},{sub:function(){return r(this,"sub","","")}})},6346:function(t,e,a){},b2d2:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return E}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"calculate-container",attrs:{flat:""}},[a("v-toolbar",{attrs:{dense:"",elevation:"0"}},[a("v-icon",{attrs:{left:"",size:"30"}},[t._v("mdi-alarm-panel-outline")]),a("v-toolbar-title",[t._v(t._s(t.$t("calculate")))]),a("v-spacer")],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:t.$t("subway.moneySpentEachTime"),type:"number",suffix:"￥"},model:{value:t.moneySpentEachTime,callback:function(e){t.moneySpentEachTime=t._n(e)},expression:"moneySpentEachTime"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:t.$t("subway.totalFrequency"),type:"number",suffix:"Frequency"},model:{value:t.totalFrequency,callback:function(e){t.totalFrequency=t._n(e)},expression:"totalFrequency"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-btn",{attrs:{color:"secondary",dark:""},on:{click:t.handleCalc}},[t._v(" "+t._s(t.$t("calculate"))+" ")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-toolbar-title",[t._v(t._s(t.$t("result")))])],1),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-text-field",{attrs:{disabled:"",value:t.resultMoney,suffix:"￥"}})],1)],1)],1)],1),a("v-card",{staticClass:"ladder-container",attrs:{flat:""}},[a("v-toolbar",{attrs:{dense:"",elevation:"0"}},[a("v-icon",{attrs:{left:"",size:"30"}},[t._v("mdi-animation")]),a("v-toolbar-title",[t._v(t._s(t.$t("subway.ladder")))]),a("v-spacer")],1),a("v-card-text",[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},t._l(t.ladders,(function(e,n){return a("v-row",{key:e.name+"-"+e.id,staticClass:"ma-0",attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:t.$t("name")},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"ladder.name"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:t.$t("subway.lowerLimit"),suffix:"￥"},model:{value:e.lowerLimit,callback:function(a){t.$set(e,"lowerLimit",a)},expression:"ladder.lowerLimit"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:t.$t("subway.upperLimit"),suffix:"￥"},model:{value:e.upperLimit,callback:function(a){t.$set(e,"upperLimit",a)},expression:"ladder.upperLimit"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:t.$t("subway.discont"),suffix:"%"},model:{value:e.discont,callback:function(a){t.$set(e,"discont",a)},expression:"ladder.discont"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.handleRemoveladder(n)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)],1)],1)})),1),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{tile:""},on:{click:function(e){return t.handleAddladder()}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),a("span",[t._v(t._s(t.$t("add")))])],1)],1)],1)],1)],1)],1)},r=[],i=a("5530"),s=a("d4ec"),l=a("bee2"),c=a("262e"),o=a("2caf"),d=(a("13d5"),a("a9e3"),a("a434"),a("4c53"),a("9ab4")),u=a("60a3"),m=function(){function t(e){for(var a in Object(s["a"])(this,t),this.frequency=0,this.money=0,this.upperLimit=0,this.lowerLimit=0,this.discont=0,e)Object.prototype.hasOwnProperty.call(e,a)&&(this[a]=e[a])}return Object(l["a"])(t,[{key:"calc",value:function(t){var e=t.starMoney,a=t.starFrequency,n=t.moneySpentEachTime,r=t.totalFrequency,i=t.done;if(i)return{starMoney:e,starFrequency:a,done:i};"number"===typeof this.upperLimit?this.frequency=Math.ceil((this.upperLimit-e)/(n*(this.discont/100))):this.frequency=r-a;var s=this.frequency+a;s>r&&(this.frequency=r-a,s=this.frequency+a,i=!0),this.money=this.frequency*n*(this.discont/100);var l=this.money+e;return{starMoney:l,starFrequency:s,done:i}}}]),t}(),v=m,f=function(){return[new m({id:1,name:"lodder1",lowerLimit:0,upperLimit:100,discont:100}),new m({id:2,name:"lodder2",lowerLimit:100,upperLimit:150,discont:80}),new m({id:3,name:"lodder3",lowerLimit:150,upperLimit:"*",discont:50})]},p=function(t){Object(c["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.moneySpentEachTime=0,t.totalFrequency=0,t.editLadder={upperLimit:0,lowerLimit:0,discont:0,name:"",id:0},t.ladders=[],t.resultMoney=0,t}return Object(l["a"])(a,[{key:"handleCalc",value:function(){var t=this;if(this.moneySpentEachTime&&this.totalFrequency){var e=this.ladders[0],a={starMoney:e.lowerLimit,starFrequency:0,done:!1},n=this.ladders.reduce((function(e,a){var n=Object(i["a"])(Object(i["a"])({},e),{},{moneySpentEachTime:t.moneySpentEachTime,totalFrequency:t.totalFrequency});return a.calc(n)}),a),r=n.starMoney;this.resultMoney=r}}},{key:"handleAddladder",value:function(){var t=Number(this.ladders[this.ladders.length-1].upperLimit);t=isNaN(t)?0:t,this.ladders.push(new v(Object(i["a"])(Object(i["a"])({},this.editLadder),{},{lowerLimit:t,upperLimit:"*",id:this.ladders.length+1,name:"ladder".concat(this.ladders.length+1)})))}},{key:"handleRemoveladder",value:function(t){this.ladders.splice(t,1)}},{key:"created",value:function(){this.ladders=f(),window.sub=this}}]),a}(u["c"]);p=Object(d["a"])([Object(u["a"])({})],p);var b=p,h=b,y=(a("b5b6"),a("2877")),w=a("6544"),L=a.n(w),x=a("8336"),q=a("b0af"),_=a("99d9"),k=a("62ad"),$=a("a523"),F=a("132d"),O=a("0fd9"),j=a("2fa4"),T=a("8654"),S=a("71d9"),V=a("2a7f"),C=Object(y["a"])(h,n,r,!1,null,"488b7d30",null),E=C.exports;L()(C,{VBtn:x["a"],VCard:q["a"],VCardText:_["b"],VCol:k["a"],VContainer:$["a"],VIcon:F["a"],VRow:O["a"],VSpacer:j["a"],VTextField:T["a"],VToolbar:S["a"],VToolbarTitle:V["a"]})},b5b6:function(t,e,a){"use strict";a("6346")}}]);
//# sourceMappingURL=subway.b03cf14a.js.map